<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generate Invite | VulnForge Academy</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00ff41;
            --primary-dark: #00cc33;
            --secondary: #ff0055;
            --accent: #00d4ff;
            --warning: #ffcc00;
            --bg-dark: #0a0a0f;
            --bg-card: #12121a;
            --bg-elevated: #1a1a2e;
            --text-primary: #e0e0e0;
            --text-secondary: #888899;
            --border: #2a2a3a;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .top-bar {
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .top-links a {
            color: var(--text-secondary);
            text-decoration: none;
            margin-left: 2rem;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        .top-links a:hover { color: var(--primary); }
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }
        .challenge-box {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            width: 100%;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        .challenge-header {
            background: linear-gradient(135deg, var(--bg-elevated), var(--bg-card));
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .challenge-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--secondary), var(--warning));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        .challenge-title h1 { font-size: 1.3rem; margin-bottom: 0.25rem; }
        .challenge-title span { color: var(--text-secondary); font-size: 0.9rem; }
        .difficulty-badge {
            margin-left: auto;
            background: rgba(255,0,85,0.2);
            color: var(--secondary);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            border: 1px solid var(--secondary);
        }
        .terminal {
            background: #000;
            padding: 2rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            min-height: 400px;
        }
        .terminal-line { margin-bottom: 0.5rem; opacity: 0; animation: fadeIn 0.3s forwards; }
        @keyframes fadeIn { to { opacity: 1; } }
        .prompt { color: var(--primary); }
        .info { color: var(--accent); }
        .warning { color: var(--warning); }
        .error { color: var(--secondary); }
        .success { color: var(--primary); }
        .muted { color: var(--text-secondary); }
        .cursor {
            display: inline-block;
            width: 8px;
            height: 1.2em;
            background: var(--primary);
            animation: blink 1s infinite;
            vertical-align: middle;
            margin-left: 4px;
        }
        @keyframes blink { 0%, 50% { opacity: 1; } 51%, 100% { opacity: 0; } }
        .input-area { display: flex; align-items: center; gap: 0.5rem; margin-top: 1rem; }
        .terminal-input {
            background: transparent;
            border: none;
            color: var(--primary);
            font-family: inherit;
            font-size: inherit;
            flex: 1;
            outline: none;
            caret-color: var(--primary);
        }
        .success-box {
            display: none;
            background: linear-gradient(135deg, rgba(0,255,65,0.1), rgba(0,212,255,0.1));
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 1rem;
            animation: slideUp 0.5s;
        }
        .success-box.show { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .invite-code {
            background: var(--bg-dark);
            border: 1px dashed var(--primary);
            padding: 1rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            text-align: center;
            margin: 1rem 0;
            color: var(--primary);
            letter-spacing: 2px;
            user-select: all;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.875rem 1.5rem;
            border-radius: 6px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            text-decoration: none;
        }
        .btn-primary { background: var(--primary); color: var(--bg-dark); }
        .btn-primary:hover { background: var(--primary-dark); box-shadow: 0 0 20px rgba(0, 255, 65, 0.4); }
        .btn-secondary { background: var(--bg-elevated); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--primary); color: var(--primary); }
        .actions { display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; }
        .hint-box {
            background: rgba(255,204,0,0.1);
            border-left: 3px solid var(--warning);
            padding: 1rem;
            margin-top: 1rem;
            display: none;
        }
        .hint-box.show { display: block; animation: fadeIn 0.3s; }
        .footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        .footer a { color: var(--accent); text-decoration: none; }
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.03;
        }
        @media (max-width: 600px) {
            .terminal { padding: 1rem; font-size: 0.85rem; }
            .challenge-header { flex-direction: column; text-align: center; }
            .difficulty-badge { margin: 1rem 0 0 0; }
        }
    </style>
</head>
<body>
    <canvas class="matrix-bg" id="matrix"></canvas>
    <div class="top-bar">
        <a href="/" class="logo"><span>‚ö°</span> VulnForge Academy</a>
        <div class="top-links">
            <a href="/login.html">Member Login</a>
            <a href="/">Home</a>
        </div>
    </div>
    <div class="container">
        <div class="challenge-box">
            <div class="challenge-header">
                <div class="challenge-icon">üîê</div>
                <div class="challenge-title">
                    <h1>Invite Code Generator</h1>
                    <span>Hack the algorithm to generate your registration invite</span>
                </div>
                <div class="difficulty-badge">Easy</div>
            </div>
            <div class="terminal" id="terminal">
                <div class="terminal-line" style="animation-delay: 0.1s;"><span class="muted">[</span><span class="warning">!</span><span class="muted">]</span> <span class="warning">RESTRICTED ACCESS DETECTED</span></div>
                <div class="terminal-line" style="animation-delay: 0.3s;"><span class="muted">[</span><span class="info">*</span><span class="muted">]</span> <span class="info">Initializing secure invite generator...</span></div>
                <div class="terminal-line" style="animation-delay: 0.5s;"><span class="muted">[</span><span class="info">*</span><span class="muted">]</span> <span class="muted">Loading cryptographic modules... OK</span></div>
                <div class="terminal-line" style="animation-delay: 0.7s;"><span class="muted">[</span><span class="error">‚úó</span><span class="muted">]</span> <span class="error">ACCESS DENIED: Manual verification required</span></div>
                <div class="terminal-line" style="animation-delay: 0.9s;"><span class="muted">---</span></div>
                <div class="terminal-line" style="animation-delay: 1.1s;"><span class="info">CHALLENGE:</span> <span class="muted">The invite generator uses a simple math-based checksum.</span></div>
                <div class="terminal-line" style="animation-delay: 1.3s;"><span class="info">TARGET:</span> <span class="muted">api/v1/invite/generate</span></div>
                <div class="terminal-line" style="animation-delay: 1.5s;"><span class="info">METHOD:</span> <span class="muted">POST with parameter 'checksum'</span></div>
                <div class="terminal-line" style="animation-delay: 1.7s;"><span class="muted">---</span></div>
                <div class="terminal-line" style="animation-delay: 1.9s;"><span class="warning">HINT:</span> <span class="muted">The checksum is the sum of ASCII values of "VULNFORGE"</span></div>
                <div class="terminal-line" style="animation-delay: 2.1s;"><span class="muted">Example: A=65, B=66, so "AB" = 131</span></div>
                <div class="terminal-line" style="animation-delay: 2.3s;"><span class="muted">---</span></div>
                <div id="input-section">
                    <div class="input-area">
                        <span class="prompt">root@vulnforge:~$</span>
                        <input type="text" class="terminal-input" id="checksum-input" placeholder="Enter checksum value..." autocomplete="off" onkeypress="handleInput(event)">
                        <span class="cursor"></span>
                    </div>
                </div>
                <div class="success-box" id="success-box">
                    <div class="terminal-line success"><span class="success">[‚úì] ACCESS GRANTED - INVITE GENERATED</span></div>
                    <div class="terminal-line"><span class="muted">Your unique invite code:</span></div>
                    <div class="invite-code" id="invite-code">VULN-XXXX-XXXX-XXXX</div>
                    <div class="terminal-line muted">This code is valid for 24 hours. Use it to complete your registration.</div>
                    <div class="actions">
                        <a href="/register.html" class="btn btn-primary" id="register-btn">Complete Registration ‚Üí</a>
                        <button class="btn btn-secondary" onclick="copyCode()">üìã Copy Code</button>
                    </div>
                </div>
                <div class="hint-box" id="hint-box">
                    <strong class="warning">Spoiler:</strong> V=86, U=85, L=76, N=78, F=70, O=79, R=82, G=71, E=69<br>
                    Sum = 86+85+76+78+70+79+82+71+69 = <strong class="success">696</strong>
                </div>
            </div>
        </div>
        <div style="margin-top: 1.5rem;">
            <button class="btn btn-secondary" onclick="toggleHint()" style="font-size: 0.85rem;">üí° I'm stuck, give me a hint</button>
        </div>
    </div>
    <div class="footer">
        <p>Already have an invite? <a href="/register.html">Register here</a></p>
        <p style="margin-top: 0.5rem; font-size: 0.8rem;">This is a simulated challenge for educational purposes. <a href="/login.html">Existing members login here</a></p>
    </div>
    <script>
        // Matrix rain effect
        const canvas = document.getElementById('matrix');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const chars = '01';
        const fontSize = 14;
        const columns = canvas.width / fontSize;
        const drops = [];
        for (let i = 0; i < columns; i++) drops[i] = Math.random() * -100;
        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#00ff41';
            ctx.font = fontSize + 'px monospace';
            for (let i = 0; i < drops.length; i++) {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            }
        }
        setInterval(drawMatrix, 50);
        window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });

        const CORRECT_CHECKSUM = 696;
        function handleInput(e) {
            if (e.key === 'Enter') {
                const input = document.getElementById('checksum-input');
                const value = parseInt(input.value.trim());
                if (isNaN(value)) { addLine('<span class="error">[‚úó] Invalid input: numbers only</span>'); return; }
                if (value === CORRECT_CHECKSUM) { solveChallenge(); }
                else {
                    addLine(`<span class="error">[‚úó] Invalid checksum: ${value}</span>`);
                    addLine('<span class="muted">Try again or use the hint button...</span>');
                    input.value = '';
                    input.focus();
                }
            }
        }
        function addLine(html) {
            const terminal = document.getElementById('terminal');
            const line = document.createElement('div');
            line.className = 'terminal-line';
            line.innerHTML = html;
            line.style.opacity = '0';
            line.style.animation = 'fadeIn 0.3s forwards';
            const inputSection = document.getElementById('input-section');
            terminal.insertBefore(line, inputSection);
        }
        function solveChallenge() {
            document.getElementById('input-section').style.display = 'none';
            const code = generateInviteCode();
            document.getElementById('invite-code').textContent = code;
            document.getElementById('success-box').classList.add('show');
            addLine('<span class="muted">---</span>');
            addLine('<span class="success">[‚úì] Verification successful!</span>');
            addLine('<span class="info">[*] Generating secure invite token...</span>');
            localStorage.setItem('vulnforge_invite', JSON.stringify({ code: code, generated: new Date().toISOString(), used: false }));
        }
        function generateInviteCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = 'VULN-';
            for (let i = 0; i < 3; i++) {
                for (let j = 0; j < 4; j++) code += chars[Math.floor(Math.random() * chars.length)];
                if (i < 2) code += '-';
            }
            return code;
        }
        function toggleHint() { document.getElementById('hint-box').classList.toggle('show'); }
        function copyCode() {
            const code = document.getElementById('invite-code').textContent;
            navigator.clipboard.writeText(code).then(() => alert('Invite code copied!'));
        }
        window.onload = () => { setTimeout(() => document.getElementById('checksum-input').focus(), 2500); };
    </script>
</body>
</html>
